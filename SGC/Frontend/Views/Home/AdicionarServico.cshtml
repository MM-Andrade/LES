
@{
    ViewBag.Title = "AdicionarServico";
}

<h2>Adicionar novo serviço</h2>

@if (ViewBag.TipoServico == null)
{
    <form action="/Home/AdicionarServico" method="post">
        @Html.AntiForgeryToken()
        <div class="form-group">
            <div class="form-row">
                <div class="col-md-6">
                    <label for="Nome">Serviço</label>
                    <input class="form-control" id="Nome" type="text" placeholder="Nome do serviço" name="TipoServico.NomeServico">
                </div>
                <div class="col-md-6">
                    <label for="Status">Status</label>
                    <select class="form-control" id="Status" name="TipoServico.Status">
                        <option value="" selected hidden disabled>Selecione...</option>
                        <option value="t">Ativo</option>
                        <option value="f">Inativo</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="form-row">
                <div class="col-md-6">
                    <label for="Prioridade">Prioridade</label>
                    <select class="form-control" id="Departamento" name="TipoServico.Prioridade.Id">
                        @foreach (var prioridade in ViewBag.Prioridades)
                        {
                            <option value="@prioridade.Id">@prioridade.NivelPrioridade - @prioridade.DescricaoPrioridade</option>
                        }
                        <option value="" selected disabled hidden>Selecione...</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label for="Departamento">Departamento</label>
                    <select class="form-control" id="Departamento" name="TipoServico.Departamento.Id">
                        @foreach (var departamento in ViewBag.Departamento)
                        {
                            <option value="@departamento.Id">@departamento.NomeDepartamento</option>
                        }
                        <option value="" selected hidden disabled>Selecione o departamento responsável</option>
                    </select>
                </div>

            </div>
        </div>

        <div class="form-group">
            <div class="form-row">
                <div class="col-md-4">
                    @Html.ActionLink("Voltar", "Voltar", "Home", new { returnUrl = this.Request.UrlReferrer }, new { @class = "btn btn-success btn-block" })
                </div>
                <div class="col-md-4">
                    <input type="submit" class="btn btn-primary btn-block" value="Cadastrar" />
                </div>
            </div>
        </div>
    </form>
}
else
{
    <form action="/Home/AdicionarServico" method="post">
        @Html.AntiForgeryToken()
        <div class="form-group">
            <div class="form-row">
                <div class="col-md-6">
                    <label for="Servico">Serviço</label>
                    <input class="form-control" id="Servico" type="text" placeholder="Nome do serviço" name="TipoServico.NomeServico" value="@ViewBag.TipoServico.NomeServico">
                </div>
                <div class="col-md-6">
                    <label for="Status">Status</label>
                    <select class="form-control" id="Status" name="TipoServico.Status">
                        <option value="@ViewBag.TipoServico.Status" selected hidden>@ViewBag.TipoServico.Status</option>
                        <option value="Ativo">Ativo</option>
                        <option value="Inativo">Inativo</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="form-row">
                <div class="col-md-6">
                    <label for="Prioridade">Prioridade</label>
                    <select class="form-control" id="Prioridade" name="TipoServico.Prioridade.Id">
                        @foreach (var prioridade in ViewBag.Prioridades)
                        {
                            <option value="@prioridade.Id">@prioridade.NivelPrioridade - @prioridade.DescricaoPrioridade</option>
                        }
                        <option value="@ViewBag.TipoServico.Prioridade.Id" selected disabled hidden>@ViewBag.TipoServico.Prioridade.DescricaoPrioridade</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label for="Departamento">Departamento</label>
                    <select class="form-control" id="Departamento" name="TipoServico.Departamento.Id">
                        @foreach (var departamento in ViewBag.Departamento)
                        {
                            <option value="@departamento.Id">@departamento.NomeDepartamento</option>
                        }
                        <option value="@ViewBag.TipoServico.Departamento.Id" selected disabled hidden>@ViewBag.TipoServico.Departamento.NomeDepartamento</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="form-row">
                <div class="col-md-6">
                    <label for="GrupoAtendimento">Grupo de Atendimento</label>
                    <select class="form-control" id="GrupoAtendimento" name="TipoServico.GrupoAtendimento.Id">
                        @foreach (var grupo in ViewBag.GrupoAtendimento)
                        {
                            <option value="@grupo.Id">@grupo.NomeGrupo</option>
                        }
                        <option value="@ViewBag.TipoServico.GrupoAtendimento.Id" selected hidden disabled>@ViewBag.TipoServico.GrupoAtendimento.NomeGrupo</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="form-row">
                <div class="col-md-4">
                    @Html.ActionLink("Voltar", "Voltar", "Home", new { returnUrl = this.Request.UrlReferrer }, new { @class = "btn btn-success btn-block" })
                </div>
                <div class="col-md-4">
                    <input type="submit" class="btn btn-primary btn-block" value="Cadastrar" />
                </div>
            </div>
        </div>
    </form>
}